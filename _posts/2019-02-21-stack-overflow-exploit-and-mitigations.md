---
layout: post
title:  "Stack Buffer Overflow Exploits and Mitigations"
tags: [stack-buffer-overflow-series]
---
---
{% for tag in site.tags %}
  <h3>Stack Overflow Series</h3>
  <ul>
    {% assign count = '0' %}
  
    {% for post in tag[1] reversed %}
        {% capture count %}{{ count | plus: '1' }}{% endcapture %}
        <li>Part {{ count }} -
        {% if page.url == post.url %}
            {{post.title}} (This Article)
        {% else %}
            <a href="{{ post.url }}">{{ post.title }}</a>
        {% endif %}
        </li>
    {% endfor %}
  </ul>
{% endfor %}

---

This is the second part of the Stack Overflow Series.
Back in **Part 1**, we covered what a stack buffer overflow is and touched on how it could be turned into an exploit at a very high level.

This part is going to jump into way more technical depth.
If you are unfamiliar with 64-bit Intel Assembly, please take a moment to read through the [Intel 64-bit Assembly Primer]({% post_url 2019-02-19-intel-64-bit-primer %}).
OR if you're unfamiliar with 64-bit Intel Assembly but don't want to read the primer first, carry on, but if stuff starts to become unclear, please take a look at the primer!

## Stack Buffer Overflow Review

## Smashing the Stack

### Buffer Overflow to Execution

## Payload #1: Shellcode Inside the Overflow Data

## Mitigation #1: Data Execution Prevention

## Mitigation #2: Stack Cookies

## Payload #2: Return Oriented Programming

Working around DEP and Stack Cookies

## Mitigation #3: Address Space Layout Randomization

## Modern Payloads

With the introduction of ASLR, we now need a lot more information about the program to successfully exploit it.
In particular, we need to know the state of the program in terms of where it has been loaded in memory.

Modern exploitation typically requires an exploit chain - a combination of exploits that when put together can result in forcing a program to perform functions it was not intended to.

In the next part of this series, we will explore how a new vulnerability class, an information leak, can be used to defeat ASLR allow stack buffer overflows to remain exploitable even now.
